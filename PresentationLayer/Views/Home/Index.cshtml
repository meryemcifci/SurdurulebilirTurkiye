@model List<EntityLayer.Concrete.SustainabilityGoal>
@{
    ViewData["Title"] = "Sürdürülebilir Kalkınma Amaçları";
}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link rel="stylesheet" href="~/SustainableTürkiyeFrontend/css/style.css">

<div class="totaly">
    <div class="slider-container">
        <div class="slider">
            <div class="slide active">
                <img src="~/SustainableTürkiyeFrontend/images/bg1.jpg" asp-append-version="true" alt="Slide 2">
                <div class="caption">Türkiyenin Sürdürülebilir Üretim ve Tüketim Uygulamalarının Benimsenmesi ve Teşvik Edilmesi</div>
            </div>
            <div class="slide">
                <img src="~/SustainableTürkiyeFrontend/images/5.jpg" asp-append-version="true" alt="Slide 1">
                <div class="caption">Sürdürülebilir Geleceğe Adım Atın!</div>
            </div>
            <div class="slide">
                <img src="~/SustainableTürkiyeFrontend/images/bg2.jpg" asp-append-version="true" alt="Slide 3">
                <div class="caption">Geleceği Birlikte İnşa Edelim</div>
            </div>
        </div>
        <button class="prev">&#10094;</button>
        <button class="next">&#10095;</button>
    </div>
    
    <!-- Sürdürülebilir Kalkınma Amaçları -->
    <h2 class= "goals-title">BM Sürdürülebilir Kalkınma Amaçları</h2>
    <div class="d-flex flex-wrap gap-2">
        @foreach (var goal in Model)
        {
            <div onclick="loadDescription(@goal.Id)" style="cursor: pointer; text-align: center;">
                <img src="@goal.IconUrl" alt="@goal.Title" style="width: 150px; height: 150px;" />
            </div>
        }
    </div>
    <div id="goal-description">
       @*  <p>Açıklama buraya yüklenecek...</p> *@
    </div>

    <!-- Haberler / Blog Yazıları -->
    <section class="news-section">
        <h2>HABERLER</h2>
        <div class="news-grid">
            <div class="news-card">
                <img src="~/SustainableTürkiyeFrontend/images/1.jpg" alt="Haber 1">
                <h3>BM Dünya Meteoroloji Örgütü: 2023 yılında neredeyse tüm Avrupa'da…</h3>
                <p>BM meteoroloji ajansı Pazartesi günü yaptığı açıklamada, iklim değişikliği şoklarının 2023 yılında Avrupa'da yaygın sel ve şiddetli sıcak hava dalgaları ile milyonlarca insanın rekor düzeyde zorluklarla karşı karşıya kalmasına neden olduğunu ve bunun…</p>
                <a href="#" class="read-more">Devamı</a>
            </div>
            <div class="news-card">
                <img src="~/SustainableTürkiyeFrontend/images/2.webp" alt="Haber 2">
                <h3>Türkiye ve Dünya Bankası arasında yeşil gelecek için güçlü işbirliği</h3>
                <p>Türkiye'nin sürdürülebilir kalkınma hedeflerine katkıda bulunacak beş yıllık ekonomik işbirliği programı yürürlüğe girdi. Türkiye ve Dünya Bankası, sürdürülebilir büyümeyi hedefleyen ve yeşil dönüşüme odaklanan beş…</p>
                <a href="#" class="read-more">Devamı</a>
            </div>
            <div class="news-card">
                <img src="~/SustainableTürkiyeFrontend/images/3.jpg" alt="Haber 3">
                <h3>Sürdürülebilir enerjiye geçişte tüketicilerin rolü: Farkında mıyız…</h3>
                <p>EY (Ernst & Young) Türkiye'nin raporu ışığında, tüketici davranışlarının sürdürülebilir enerji dönüşümündeki rolü ve enerji şirketlerinin bu süreçteki etkisi ele alınıyor.</p>
                <a href="#" class="read-more">Devamı</a>
            </div>
        </div>
        <div class="allNews">
            <a class="nav-link text-dark" asp-area="" asp-controller="News" asp-action="Index">Haberlerin devamı için tıklayınız.</a>
        </div>
    </section>
</div>

<!--CSS -->
<style>
    .slider-container {
        position: relative;
        width: 100%;
        max-width: 100%;
        margin: auto;
        overflow: hidden;
        display: flex;
        justify-content: center; /* Orta hizalama */
        align-items: center;
        background-color: #f0f8f0; /* Slider arka plan rengi */
    }

    .slider {
        display: flex;
        width: 300%; /* 3 slide için */
        transition: transform 0.5s ease-in-out;
    }

    .slide {
        flex: 1 0 100%;
        position: relative;
    }

    .slide img {
        max-width: 100%; /* Görüntünün maksimum genişliği */
        height: auto; /* Orijinal oranları koru */
        display: block;
        margin: auto; /* Ortalamak için */
    }

    .caption {
        position: absolute;
        top: 50%; /* Ortaya al */
        left: 50%;
        transform: translate(-50%, -50%); /* Tam ortalamak için */
        background-color: rgba(0, 0, 0, 0.5); /* Yarı saydam arka plan */
        color: white;
        padding: 15px 30px;
        border-radius: 8px;
        font-size: 1.8rem;
        text-align: center;
        font-weight: bold;
        max-width: 80%; /* Uzun metinler taşmasın */
    }


    .prev, .next {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(0, 0, 0, 0.5);
        color: white;
        border: none;
        padding: 15px;
        cursor: pointer;
        font-size: 18px;
        z-index: 2;
    }

    .prev {
        left: 10px;
    }

    .next {
        right: 10px;
    }


    .goals-title {
        color: #064e3b;
        padding:25px;
        font-weight: 650;
        font-size: clamp(2.5rem, 5vw, 4rem);
        text-align: center;
        margin-bottom: 4rem;
        text-shadow: 0 4px 20px rgba(0,0,0,0.3);
        background: none;
        -webkit-background-clip: initial;
        -webkit-text-fill-color: initial;
        background-clip: initial;
        position: relative;
    }

    .goals-title::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 4px;
        background: linear-gradient(90deg, #10b981, #34d399, #6ee7b7);
        border-radius: 2px;
    }

    #goal-description {
        margin-top: 30px;
        padding: 20px;
        background: #f0f8f0; 
        border: 2px solid #d1fae5;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease-in-out;
        font-family: 'Segoe UI', sans-serif;
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
    }

    #goal-description h4 {
        color: #065f46;
        font-weight: bold;
        margin-bottom: 10px;
    }

    #goal-description p {
        font-size: 16px;
        color: #1f2937;
        line-height: 1.6;
    }

    #goal-description {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.4s forwards;
    }

    @@keyframes fadeInUp {
        to

    {
        opacity: 1;
        transform: translateY(0);
    }

    }
</style>

<!-- JavaScript -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        let currentSlide = 0;
        const slides = document.querySelectorAll(".slide");
        const slider = document.querySelector(".slider");
        const prevBtn = document.querySelector(".prev");
        const nextBtn = document.querySelector(".next");
        const totalSlides = slides.length;

        function showSlide(index) {
            slider.style.transform = `translateX(-${index * 100}%)`;
        }

        nextBtn.addEventListener("click", () => {
            currentSlide = (currentSlide + 1) % totalSlides;
            showSlide(currentSlide);
        });

        prevBtn.addEventListener("click", () => {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            showSlide(currentSlide);
        });

        setInterval(() => {
            currentSlide = (currentSlide + 1) % totalSlides;
            showSlide(currentSlide);
        }, 5000);

        showSlide(currentSlide);
    });

   //Sürdürülebilir Kalkınma Amaçları Açıklama Yükleme

      
     let currentDescriptionId = null;

     function loadDescription(id) {
         const descContainer = document.getElementById('goal-description');

         // Aynı ID’ye tekrar tıklanırsa gizle
         if (currentDescriptionId === id) {
             descContainer.innerHTML = '';
             currentDescriptionId = null;
             return;
         }
          //yeni Id'ye tıklayınca içeriği değiştiriyorum.
         fetch('/Home/GetDescription/' + id)
             .then(response => response.text())
             .then(html => {
                 descContainer.innerHTML = html;
                 currentDescriptionId = id;
             });
     }
        descContainer.innerHTML = html;
        descContainer.classList.remove('fade-in');
        void descContainer.offsetWidth; // reflow
        descContainer.classList.add('fade-in');


</script>
